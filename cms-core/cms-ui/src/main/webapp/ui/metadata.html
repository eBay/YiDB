<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Metadata - CMS</title>
    <link href="css/doc.css" media="screen" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="js/jquery-min.js"></script>
    <script type="text/javascript" src="js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/highlight.js"></script>
    <style>
        input.submit{
        clear: none;
        display: block;
        float: right;
        padding: 6px 8px;
        }
        h2.menu{
        font-family:"黑体"；
        }
    </style>
</head>
<body>
<div id="container">
<div id='navbar'>
    <a href="home.html"><img src="images/cms_logo.png" height="90pt"></img></a>
    <ul>
        <li>
            <a href='home.html'>home</a> |
        </li>
        <li>
            <a href='console.html'>console</a> |
        </li>
        <li>
            <a href='doc.html'>docs</a>
        </li>
    </ul>
</div>
<div id="leftnav">
    <h2 class="menu">Overview</h2>
    <ul class="navul">
        <li><a href="doc.html">About CMS</a></li>
        <li><a href="metadataoverview.html">Metadata Overview</a></li>
        <li><a href="persistenceoverview.html">Persistence Overview</a></li>
        <li><a href="queryoverview.html">Query Overview</a></li>
    </ul>
    <h2 class="menu">Examples</h2>
    <ul class="navul">
        <li><a href="repository.html">Repository</a></li>
        <li><a href="branch.html">Branch</a></li>
        <li><a href="metadata.html">Metadata</a></li>
        <li><a href="entity.html">Entity</a></li>
        <li><a href="query.html">Query</a></li>
        <li><a href="systemManagement.html">System Management</a></li>
    </ul>
	<h2 class="menu">User Guide</h2>
    <ul class="navul">
        <li><a href="evt.html">Event Dispatcher</a></li>
    </ul>
</div>
<div id="content">
    <h1>Metadata</h1>
    <blockquote><code>git clone
        https://github.com/eBay/YiDB.git</code> to see
        the scripts behind all the
        examples on this site.
    </blockquote>

    <h2> List metadatas in given repository</h2>

    <p>CMS provides URI to list all metadatas in a given repsitory. For
        example, to list all metadata in &quot;raptor-paas&quot; repository,
        use follwing URI.<input type="button" value="Try me"
                                onClick='window.location.href="console.html?opid=4&reponame=raptor-paas"'
                                class="submit"></p>

    <div>
        <pre class="brush: sql; toolbar: false;">GET /repositories/raptor-paas/metadata</pre>
    </div>

    <h2> Create metadata in repositories</h2>

    <p>create a metadata in the given repository.<input type="button"
                                                        value="Try me"
                                                        onClick='window.location.href="console.html?opid=5&reponame=raptor-paas&reqBody={%0A%09%22name%22: %22ApplicationService1%22,%0A%09%22repository%22:%22raptor-paas%22,%0A%09%22pluralName%22: %22ApplicationService1s%22,%0A%09%22fields%22: {%0A%09%09%22manifestversion%22: {%0A%09%09%09%22name%22: %22manifestversion%22,%0A%09%09%09%22dataType%22: %22string%22,%0A%09%09%09%22defaultValue%22: %22manifest-1.0%22%0A%09%09},%0A%09%09%22applicationId%22: {%0A%09%09%09%22name%22: %22applicationId%22,%0A%09%09%09%22dataType%22: %22string%22,%0A%09%09%09%22mandatory%22: true%0A%09%09}%0A%09}%0A}"'
                                                        class="submit"></p>

    <div>
			<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/metadata

{
    "name": "ApplicationService1",
    "repository":"raptor-paas",
    "pluralName": "ApplicationService1s",
     "fields": {
        "manifestversion": {
            "name": "manifestversion",
            "dataType": "string",
            "defaultValue": "manifest-1.0"
        },
        "applicationId": {
            "name": "applicationId",
            "dataType": "string",
            "mandatory": true
        }
    }
}</pre>
    </div>

    <h2> Query given metadata </h2>

    <p>Query given metadata on given repository.<input type="button"
                                                       value="Try me"
                                                       onClick='window.location.href="console.html?opid=6&reponame=raptor-paas&metatype=ApplicationService"'
                                                       class="submit"></p>

    <div>
        <pre class="brush: sql; toolbar: false;">GET /repositories/raptor-paas/metadata/ApplicationService</pre>
    </div>

    <h2> Update metadata </h2>

    <p>Update a metadata class.<input type="button" value="Try me"
                                      onClick="window.location.href='console.html?opid=7&reponame=raptor-paas&&metatype=ApplicationService1&reqBody={%0A%09%22name%22: %22ApplicationService1%22,%0A%09%22repository%22:%22raptor-paas%22,%0A%09%22pluralName%22: %22ApplicationService1s%22,%0A%09%22fields%22: {%0A%09%09%22manifestversion%22: {%0A%09%09%09%22name%22: %22manifestversion%22,%0A%09%09%09%22dataType%22: %22string%22,%0A%09%09%09%22defaultValue%22: %22manifest-1.0%22%0A%09%09},%0A%09%09%22applicationId%22: {%0A%09%09%09%22name%22: %22applicationId%22,%0A%09%09%09%22dataType%22: %22string%22,%0A%09%09%09%22mandatory%22: true%0A%09%09},%0A%09%09%22manifestversion%22: {%0A%09%09%09%22name%22: %22manifestversion%22,%0A%09%09%09%22dataType%22: %22string%22,%0A%09%09%09%22defaultValue%22: %22manifest-1.0%22%0A%09%09}%0A%09}%0A}'"
                                      class="submit"></p>

    <div>
			<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/metadata/ApplicationService1

{
    "name": "ApplicationService1",
    "repository":"raptor-paas",
    "pluralName": "ApplicationService1s",
     "fields": {
        "manifestversion": {
            "name": "manifestversion",
            "dataType": "string",
            "defaultValue": "manifest-1.0"
        },
        "applicationId": {
            "name": "applicationId",
            "dataType": "string",
            "mandatory": true
        },
        "manifestversion1": {
            "name": "manifestversion1",
            "dataType": "string",
            "defaultValue": "manifest-1.0"
        }
    }
}</pre>
    </div>

    <h2> Update metadata - expression on field</h2>

    <p>Update a metadata class, add meta field, and make the field value as
        a computed from a customzied expression.<input type="button"
                                                       value="Try me"
                                                       onClick="window.location.href='console.html?opid=7&reponame=raptor-paas&&metatype=ServiceInstance&reqBody=%7B%0D%0A%20%20%20%20%22name%22%3A%20%22ServiceInstance%22%2C%0D%0A%20%20%20%20%22repository%22%3A%22raptor-paas%22%2C%0D%0A%20%20%20%20%22pluralName%22%3A%20%22ServiceInstances%22%2C%0D%0A%20%20%20%20%20%22fields%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%22newActiveManifestDiff%22%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22newActiveManifestDiff%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22dataType%22%3A%20%22boolean%22%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%22expression%22%3A%20%22function%20getDiff%28%29%20%7Bvar%20ref%20%3D%20%24activeManifestRef%3B%20var%20cur%20%3D%20%24activeManifestCur%3B%5Cr%5Cn%5Ctif%28ref%20%3D%3D%20null%20%7C%7C%20ref%20%3D%3D%20%5C%22%5C%22%20%7C%7C%20ref%20%3D%3D%20%5C%22null%5C%22%29%20%7B%5Cr%5Cn%5Ct%5Ctif%28cur%20%3D%3D%20%5C%22null%5C%22%20%7C%7C%20cur%20%3D%3D%20null%20%7C%7C%20cur%20%3D%3D%20%5C%22%5C%22%29%20%7B%5Cr%5Cn%5Ct%5Ct%5Ctreturn%20false%3B%5Cr%5Cn%5Ct%5Ct%7D%3B%5Cr%5Cn%5Ct%5Ctreturn%20true%3B%5Cr%5Cn%5Ct%7D%3B%5Cr%5Cn%5Ctref%20%3D%20ref%5B0%5D%3B%5Cr%5Cn%5Ctif%28ref%20%3D%3D%20null%20%7C%7C%20ref%20%3D%3D%20%5C%22%5C%22%20%7C%7C%20ref%20%3D%3D%20%5C%22null%5C%22%29%20%7B%5Cr%5Cn%5Ct%5Ctif%28cur%20%3D%3D%20%5C%22null%5C%22%20%7C%7C%20cur%20%3D%3D%20null%20%7C%7C%20cur%20%3D%3D%20%5C%22%5C%22%29%20%7B%5Cr%5Cn%5Ct%5Ct%5Ctreturn%20false%3B%5Cr%5Cn%5Ct%5Ct%7D%3B%5Cr%5Cn%5Ct%5Ctreturn%20true%3B%5Cr%5Cn%5Ct%7D%3B%5Cr%5Cn%5Ctreturn%20ref%20%21%3D%20cur%3B%20%7D%5Cr%5Cn%5CtgetDiff%28%29%3B%22%0D%0A%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D '"
                                                       class="submit"></p>

    <div>
			<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/metadata/ServiceInstance

{
    "name": "ServiceInstace",
    "repository":"raptor-paas",
    "pluralName": "ServiceInstances",
     "fields": {
        "newActiveManifestDiff": {
            "name": "newActiveManifestDiff",
            "dataType": "boolean",
            "expression": "function getDiff() {var ref = $activeManifestRef; var cur = $activeManifestCur;
	if(ref == null || ref == \"\" || ref == \"null\") {
		if(cur == \"null\" || cur == null || cur == \"\") {
			return false;
		};
		return true;
	};
	ref = ref[0];
	if(ref == null || ref == \"\" || ref == \"null\") {
		if(cur == \"null\" || cur == null || cur == \"\") {
			return false;
		};
		return true;
	};
	return ref != cur; }
	getDiff();"

        }
    }
}</pre>
    </div>

    <h2> Query all indexes </h2>

    <p>Get all indexes on the given metaclass.<input type="button"
                                                     value="Try me"
                                                     onClick='window.location.href="console.html?opid=27&reponame=raptor-paas&metatype=ApplicationService"'
                                                     class="submit"></p>

    <div>
        <pre class="brush: sql; toolbar: false;">GET /repositories/raptor-paas/metadata/ApplicationService/indexes</pre>
    </div>

    <h2> Add an index </h2>

    <p>Add an index to the given metadata.<input type="button"
                                                 value="Try me"
                                                 onClick="window.location.href='console.html?opid=28&reponame=raptor-paas&&metatype=ApplicationService&reqBody={%0A%09%22indexName%22: %22appIdIndex%22,%0A%09%22keyList%22:[%22appId%22],%0A%09%22indexOptions%22: []%0A}'"
                                                 class="submit"></p>

    <div>
			<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/metadata/ApplicationService/indexes

{
       "indexName": "appIdIndex",
       "keyList": ["appId"],
       "indexOptions": []
}</pre>
    </div>

    <h2> Delete index </h2>

    <p>Delete the given indexe from given metadata.<input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=29&reponame=raptor-paas&metatype=ApplicationService&indexname=appIdIndex"'
                                                          class="submit">
    </p>

    <div>
        <pre class="brush: sql; toolbar: false;">DELETE /repositories/raptor-paas/metadata/ApplicationService/indexes/appIdIndex</pre>
    </div>
    
    <h2> Define JS Expression </h2>

    <p>Define JS expression on metadata field.
    </p>
    <ol>
    	<li>Define a metadata contains JS expression<input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=5&reponame=raptor-paas&&reqBody={%0A%09%22name%22: %22ResourceCapacity1%22,%0A%09%22repository%22: %22raptor-paas%22,%0A%09%22pluralName%22: %22ResourceCapacity1s%22,%0A%09%22fields%22: {%0A%09%09%22total%22: {%0A%09%09%09%22mandatory%22: true,%0A%09%09%09%22dataType%22: %22long%22,%0A%09%09%09%22defaultValue%22: 1,%0A%09%09%09%22cardinality%22: %22One%22%0A%09%09},%0A%09%09%22used%22: {%0A%09%09%09%22mandatory%22: true,%0A%09%09%09%22dataType%22: %22long%22,%0A%09%09%09%22defaultValue%22: 0,%0A%09%09%09%22cardinality%22: %22One%22%0A%09%09},%0A%09%09%22reserved%22: {%0A%09%09%09%22mandatory%22: true,%0A%09%09%09%22dataType%22: %22long%22,%0A%09%09%09%22defaultValue%22: 1,%0A%09%09%09%22cardinality%22: %22One%22%0A%09%09},%0A%09%09%22available%22: {%0A%09%09%09%22mandatory%22: false,%0A%09%09%09%22dataType%22: %22long%22,%0A%09%09%09%22expression%22: %22%24total - %24used - %24reserved%22,%0A%09%09%09%22cardinality%22: %22One%22%0A%09%09}%0A%09}%0A}"'
                                                          class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/metadata
{
    "name": "ResourceCapacity1",
    "repository": "raptor-paas",
    "pluralName": "ResourceCapacity1s",
     "fields": {
       	"total": {
			"mandatory": true,
			"dataType": "long",
			"defaultValue": 1,
			"cardinality": "One"	
		},
		"used": {
			"mandatory": true,
			"dataType": "long",
			"defaultValue": 0,
			"cardinality": "One"	
		},
		"reserved": {
			"mandatory": true,
			"dataType": "long",
			"defaultValue": 1,
			"cardinality": "One"	
		},
		"available": {
			"mandatory": false,
			"dataType": "long",
			"expression": "$total - $used - $reserved",
			"cardinality": "One"
		}
    }
}
</pre>
</div>
    	<li>Create an entity based on the above metadata.<input type="button" value="Try me"
                                                   onClick='window.location.href="console.html?opid=14&reponame=raptor-paas&branch=main&metatype=ResourceCapacity1&reqBody="+
					"{%0A%09%22_type%22:%22ResourceCapacity1%22,%0A%09%22_branch%22: %22main%22,%0A%09%22_oid%22: %22expressionmetadatacreateoid%22,%0A%09%22total%22: 100,%0A%09%22used%22: 30,%0A%09%22reserved%22: 20%0A}"'
                                                   class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/branches/main/ResourceCapacity1
{
	"_type": "ResourceCapacity1",
	"_branch": "main",
	"_oid": "expressionmetadatacreateoid",
	"total": 100,
	"used": 30,
	"reserved": 20
}
</pre>
</div>
    	<li>Get the created entity to check the value of the expression field should be 50 = 100 - 30 - 20.<input type="button"
                                                     value="Try me"
                                                     onClick='window.location.href="console.html?opid=13&reponame=raptor-paas&branch=main&metatype=ResourceCapacity1&oid=expressionmetadatacreateoid"'
                                                     class="submit"></li>
<div>
    <pre class="brush: sql; toolbar: false;">GET /repositories/raptor-paas/branches/main/ResourceCapacity1/{oid}</pre>
</div>
    </ol>

<h2> Define CrossRepository Relationship </h2>

    <p>Define CrossRepository Relationship on metadata field.
    </p>
    <ol>
    	<li>Create new repository "cross_repo_test"<input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=2&reqBody={%0A%09%22repositoryName%22:%22cross_repo_test%22%0A}"'
                                                          class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories
{
    "repositoryName": "cross_repo_test"
}
</pre>
</div>
		<li>Create a new entity of "ApplicationService" type on "raptor-paas" repository<input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=14&reponame=raptor-paas&branch=main&metatype=ApplicationService&reqBody="+
					"{%0A%09%22_type%22:%22ApplicationService%22,%0A%09%22_oid%22:%22applicationServiceRefOid%22,%0A%09%22archTier%22:%22app%22,%0A%09%22nugget%22:%22srp%22,%0A%09%22name%22:%22srp-app:Raptor-10%22,%0A%09%22activeManifestDiff%22:true,"+
					"%0A%09%22label%22:%22srp-app-10%22,%0A%09%22activeManifestRef%22:[%0A%09%09%22manifest-2.0%22%0A%09],%0A%09%22activeManifestCur%22:%22manifest-1.0%22%0A}"'
                                                          class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/branches/main/ApplicationService
{
	"_type": "ApplicationService",
	"_oid": "applicationServiceRefOid"
	"archTier": "app",
	"architecture": "r1",
	"nugget": "srp",
	"name": "srp-app:Raptor-10",
	"activeManifestDiff": true,
	"label": "srp-app-10",
	"activeManifestRef": [
		"manifest-2.0"
	],
	"activeManifestCur": "manifest-1.0"
}
</pre>
</div>
    	<li>Create a metadata which has a reference to other metadata in the other repository.<input type="button" value="Try me"
                                                   onClick='window.location.href="console.html?opid=5&reponame=cross_repo_test&reqBody={%0A%09%22name%22: %22RefApplicationService%22,%0A%09%22repository%22:%22cross_repo_test%22,%0A%09%22pluralName%22: %22RefApplicationServices%22,%0A%09%22fields%22: {%0A%09%09%22raptorApplicationService%22: {%0A%09%09%09%22name%22: %22raptorApplicationService%22,%0A%09%09%09%22dataType%22: %22relationship%22,%0A%09%09%09%22relationType%22: %22CrossRepository%22,%0A%09%09%09%22refRepository%22: %22raptor-paas%22,%0A%09%09%09%22refDataType%22: %22ApplicationService%22,%0A%09%09%09%22cardinality%22: %22Many%22%0A%09%09}%0A%09}%0A}"'
                                                   class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/cross_repo_test/metadata
{
    "name": "RefApplicationService",
    "pluralName": "RefApplicationServices",
    "repository": "cross_repo_test",
    "fields": {
        "raptorApplicationService": {
            "name": "raptorApplicationService",
            "dataType": "relationship",
            "relationType": "CrossRepository",
            "refRepository": "raptor-paas",
            "refDataType": "ApplicationService",
            "cardinality": "Many"
        }
    }
}
</pre>
</div>
    	<li>Create an entity based on the created metadata.
    	<input type="button"
                                                     value="Try me"
                                                     onClick='window.location.href="console.html?opid=14&reponame=cross_repo_test&branch=main&metatype=RefApplicationService&reqBody="+
                                                     "{%0A%09%22_type%22:%22RefApplicationService%22,%0A%09%22_oid%22:%22crossrepositoryoid%22,%0A%09%22repository%22:%22cross_repo_test%22,%0A%09%22raptorApplicationService%22:[{%0A%09%09%22_oid%22: %22applicationServiceRefOid%22,%0A%09%09%22_type%22: %22ApplicationService%22%0A%09}]%0A}"'
                                                     class="submit">
                                                    </li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/cross_repo_test/branches/main/RefApplicationService
{
    "_type": "RefApplicationService",
    "repository": "cross_repo_test",
    "_oid": "crossrepositoryoid",
    "raptorApplicationService": [{
        "_oid":"applicationServiceRefOid",
        "_type":"ApplicationService"
    }]
}
</pre>
</div>
		<li>Get the created entity to check CrossRepository reference value.<input type="button"
                                                     value="Try me"
                                                     onClick='window.location.href="console.html?opid=13&reponame=cross_repo_test&branch=main&metatype=RefApplicationService&oid=crossrepositoryoid"'
                                                     class="submit"></li>
<div>
    <pre class="brush: sql; toolbar: false;">GET /repositories/cross_repo_test/branches/main/RefApplicationService/{oid}</pre>
</div>
    </ol>
    
    <h2> Define Inner Relationship </h2>

    <p>Define Inner Relationship on metadata field.
    </p>
    <ol>
    	<li>Create an inner metadata. <input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=5&reponame=raptor-paas&reqBody={%0A%09%22name%22: %22DoorLock%22,%0A%09%22repository%22:%22raptor-paas%22,%0A%09%22pluralName%22: %22DoorLocks%22,%0A%09%22fields%22: {%0A%09%09%22name%22: {%0A%09%09%09%22name%22:%22name%22,%0A%09%09%09%22dataType%22:%22string%22,%0A%09%09%09%22cardinality%22:%22One%22,%0A%09%09%09%22mandatory%22:false%0A%09%09}%0A%09},%0A%09%22embed%22:false,%0A%09%22inner%22:true%0A}"'
                                                          class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/metadata
{
    "name": "DoorLock",
    "pluralName": "DoorLocks",
    "repository": "raptor-paas",
    "fields": {
        "name": {
            "name": "name",
            "dataType": "string",
            "cardinality": "One",
            "mandatory": false
        }
    },
    "embed": false,
	"inner": true
}
</pre>
</div>
		<li>Create an outer metadata which has inner type reference. <input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=5&reponame=raptor-paas&reqBody={%0A%09%22name%22: %22DoorTest%22,%0A%09%22repository%22:%22raptor-paas%22,%0A%09%22pluralName%22: %22DoorTests%22,%0A%09%22fields%22: {%0A%09%09%22name%22: {%0A%09%09%09%22name%22:%22name%22,%0A%09%09%09%22dataType%22:%22string%22,%0A%09%09%09%22cardinality%22:%22One%22,%0A%09%09%09%22mandatory%22:false%0A%09%09},%0A%09%09%22lock%22:{%0A%09%09%09%22name%22:%22lock%22,%0A%09%09%09%22dataType%22:%22relationship%22,%0A%09%09%09%22cardinality%22:%22One%22,%0A%09%09%09%22mandatory%22:false,%0A%09%09%09%22refDataType%22:%22DoorLock%22,%0A%09%09%09%22relationType%22:%22Inner%22,%0A%09%09%09%22sourceDataType%22:%22DoorTest%22%0A%09%09}%0A%09}%0A}"'
                                                          class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/metadata
{
    "name": "DoorTest",
    "pluralName": "DoorTests",
    "repository": "raptor-paas",
    "fields": {
        "name": {
            "name": "name",
            "dataType": "string",
            "cardinality": "One",
            "mandatory": false
        },
        "lock": {
            "name": "lock",
            "dataType": "relationship",
            "cardinality": "Many",
            "mandatory": false,
            "refDataType": "DoorLock",
            "relationType": "Inner",
            "sourceDataType": "DoorTest"
        }
    }
}
</pre>
</div>
		<li>Create an outer entity based on outer metadata. <input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=14&reponame=raptor-paas&branch=main&metatype=DoorTest&reqBody="+
																	"{%0A%09%22_type%22:%22DoorTest%22,%0A%09%22_oid%22:%22door4innertestoid%22,%0A%09%22name%22:%22DoorForTest%22,%0A%09%22_branch%22:%22main%22%0A}"'
                                                          class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/branches/main/DoorTest
{
    "_type": "DoorTest"
    "_oid": "door4innertestoid",
    "name": "DoorForTest",
    "_branch": "main"
}
</pre>
</div>
		<li>Create an inner entity based on inner metadata and attache to outer entity (DoorTest -> lock). <input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=14&reponame=raptor-paas&branch=main&metatype=DoorLock&path=DoorTest%21door4innertestoid%21lock&reqBody="+
																	"{%0A%09%22_type%22:%22DoorLock%22,%0A%09%22_oid%22:%22lock4innertestoid%22,%0A%09%22name%22:%22LockForTest%22,%0A%09%22_branch%22:%22main%22%0A}"'
                                                          class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">POST /repositories/raptor-paas/branches/main/DoorLock
{
    "_type": "DoorLock",
    "_oid": "lock4innertestoid",
    "name": "LockForTest",
    "_branch": "main"
}
</pre>
</div>
		<li>Get the created outer entity and check the inner reference there. <input type="button"
                                                          value="Try me"
                                                          onClick='window.location.href="console.html?opid=13&reponame=raptor-paas&branch=main&metatype=DoorTest&oid=door4innertestoid"'
                                                          class="submit"></li>
<div>
<pre class="brush: sql; toolbar: false;">GET /repositories/raptor-paas/branches/main/DoorTest/{oid}</pre>
</div>
	</ol>
</div>
<div class="footer">
    <div id="footer">
        <p>&copy;2012 eBay CMS System Foundation</p>
    </div>
</div>
</div>
<script type="text/javascript">
    SyntaxHighlighter.all();
</script>
</body>
</html>
